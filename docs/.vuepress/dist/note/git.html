<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Warren&#39;s</title>
    <meta name="description" content="blog &amp; note">
    <link rel="icon" href="/blog/favicon.ico">
    
    <link rel="preload" href="/blog/assets/css/0.styles.6581f3a5.css" as="style"><link rel="preload" href="/blog/assets/js/app.9e8c9158.js" as="script"><link rel="preload" href="/blog/assets/js/2.19854088.js" as="script"><link rel="preload" href="/blog/assets/js/45.3faa9556.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.ac35b3f5.js"><link rel="prefetch" href="/blog/assets/js/11.8db7a734.js"><link rel="prefetch" href="/blog/assets/js/12.edb1abce.js"><link rel="prefetch" href="/blog/assets/js/13.74ffdcb2.js"><link rel="prefetch" href="/blog/assets/js/14.1829996b.js"><link rel="prefetch" href="/blog/assets/js/15.314ea8c2.js"><link rel="prefetch" href="/blog/assets/js/16.1cc6f283.js"><link rel="prefetch" href="/blog/assets/js/17.a1ba1d59.js"><link rel="prefetch" href="/blog/assets/js/18.f8bca36b.js"><link rel="prefetch" href="/blog/assets/js/19.64dedaf1.js"><link rel="prefetch" href="/blog/assets/js/20.8ea23d8d.js"><link rel="prefetch" href="/blog/assets/js/21.0af6b543.js"><link rel="prefetch" href="/blog/assets/js/22.6c099726.js"><link rel="prefetch" href="/blog/assets/js/23.0e51b530.js"><link rel="prefetch" href="/blog/assets/js/24.178d77bc.js"><link rel="prefetch" href="/blog/assets/js/25.3fdf9ddb.js"><link rel="prefetch" href="/blog/assets/js/26.33037e02.js"><link rel="prefetch" href="/blog/assets/js/27.bf6a3e29.js"><link rel="prefetch" href="/blog/assets/js/28.d88bb07f.js"><link rel="prefetch" href="/blog/assets/js/29.ffdb1715.js"><link rel="prefetch" href="/blog/assets/js/3.5b2a4f6b.js"><link rel="prefetch" href="/blog/assets/js/30.0c372c6d.js"><link rel="prefetch" href="/blog/assets/js/31.d57c2842.js"><link rel="prefetch" href="/blog/assets/js/32.f702bcdf.js"><link rel="prefetch" href="/blog/assets/js/33.75b8c897.js"><link rel="prefetch" href="/blog/assets/js/34.d2c66dca.js"><link rel="prefetch" href="/blog/assets/js/35.88cc9dec.js"><link rel="prefetch" href="/blog/assets/js/36.e093b66f.js"><link rel="prefetch" href="/blog/assets/js/37.19a33e0d.js"><link rel="prefetch" href="/blog/assets/js/38.34160eb0.js"><link rel="prefetch" href="/blog/assets/js/39.f3d5d9e2.js"><link rel="prefetch" href="/blog/assets/js/4.4e2b953c.js"><link rel="prefetch" href="/blog/assets/js/40.077207f7.js"><link rel="prefetch" href="/blog/assets/js/41.aeb1a4a7.js"><link rel="prefetch" href="/blog/assets/js/42.8ddc75d2.js"><link rel="prefetch" href="/blog/assets/js/43.ffcf59e4.js"><link rel="prefetch" href="/blog/assets/js/44.ba22c5ff.js"><link rel="prefetch" href="/blog/assets/js/46.23436903.js"><link rel="prefetch" href="/blog/assets/js/47.47ce3bcb.js"><link rel="prefetch" href="/blog/assets/js/48.4f56edbb.js"><link rel="prefetch" href="/blog/assets/js/49.4ea5cd47.js"><link rel="prefetch" href="/blog/assets/js/5.eeb56c9b.js"><link rel="prefetch" href="/blog/assets/js/50.9247a94d.js"><link rel="prefetch" href="/blog/assets/js/51.74905b6e.js"><link rel="prefetch" href="/blog/assets/js/52.71b2de59.js"><link rel="prefetch" href="/blog/assets/js/53.4718526b.js"><link rel="prefetch" href="/blog/assets/js/54.9260b0d0.js"><link rel="prefetch" href="/blog/assets/js/55.29408364.js"><link rel="prefetch" href="/blog/assets/js/56.8358363d.js"><link rel="prefetch" href="/blog/assets/js/57.744812c2.js"><link rel="prefetch" href="/blog/assets/js/58.8b0177fe.js"><link rel="prefetch" href="/blog/assets/js/59.cb6fbf99.js"><link rel="prefetch" href="/blog/assets/js/6.c8817c6f.js"><link rel="prefetch" href="/blog/assets/js/60.0852977b.js"><link rel="prefetch" href="/blog/assets/js/61.30f2446c.js"><link rel="prefetch" href="/blog/assets/js/62.533b18af.js"><link rel="prefetch" href="/blog/assets/js/63.e9712de4.js"><link rel="prefetch" href="/blog/assets/js/64.1ad0ad2d.js"><link rel="prefetch" href="/blog/assets/js/65.0c702180.js"><link rel="prefetch" href="/blog/assets/js/66.2ff34b8d.js"><link rel="prefetch" href="/blog/assets/js/67.2a0370e6.js"><link rel="prefetch" href="/blog/assets/js/7.f03a9e7b.js"><link rel="prefetch" href="/blog/assets/js/8.d0157f4d.js"><link rel="prefetch" href="/blog/assets/js/9.2a36f2f4.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.6581f3a5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/logo.png" alt="Warren's" class="logo"> <span class="site-name can-hide">Warren's</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/fe/" class="nav-link">前端</a></div><div class="nav-item"><a href="/blog/be/" class="nav-link">后端</a></div><div class="nav-item"><a href="/blog/note/" class="nav-link router-link-active">笔记</a></div><div class="nav-item"><a href="/blog/other/" class="nav-link">其它</a></div><div class="nav-item"><a href="https://github.com/WarrenHewitt" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/fe/" class="nav-link">前端</a></div><div class="nav-item"><a href="/blog/be/" class="nav-link">后端</a></div><div class="nav-item"><a href="/blog/note/" class="nav-link router-link-active">笔记</a></div><div class="nav-item"><a href="/blog/other/" class="nav-link">其它</a></div><div class="nav-item"><a href="https://github.com/WarrenHewitt" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>所有</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/note/examination.html" class="sidebar-link">笔试</a></li><li><a href="/blog/note/javascript.html" class="sidebar-link">javascript</a></li><li><a href="/blog/note/html.html" class="sidebar-link">html</a></li><li><a href="/blog/note/css.html" class="sidebar-link">css</a></li><li><a href="/blog/note/react.html" class="sidebar-link">react</a></li><li><a href="/blog/note/vue.html" class="sidebar-link">vue</a></li><li><a href="/blog/note/web-app.html" class="sidebar-link">web-app</a></li><li><a href="/blog/note/typescript.html" class="sidebar-link">typescript</a></li><li><a href="/blog/note/mini-programe.html" class="sidebar-link">mini-programe</a></li><li><a href="/blog/note/node.html" class="sidebar-link">node</a></li><li><a href="/blog/note/java.html" class="sidebar-link">java</a></li><li><a href="/blog/note/python.html" class="sidebar-link">python</a></li><li><a href="/blog/note/mysql-mongo.html" class="sidebar-link">mysql-mongo</a></li><li><a href="/blog/note/git.html" class="active sidebar-link">git</a></li><li><a href="/blog/note/D3.html" class="sidebar-link">D3</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>[toc]</p> <hr> <h2 id="github"><a href="#github" class="header-anchor">#</a> github</h2> <ul><li>直接访问版本号前7位也是可以访问的。</li></ul> <h2 id="git"><a href="#git" class="header-anchor">#</a> git</h2> <ul><li><p>.gitignore  以斜杠“/”开头表示目录</p></li> <li><p>git subtree 实现一个仓库作为其他仓库的子仓库</p></li></ul> <h3 id="基础命令"><a href="#基础命令" class="header-anchor">#</a> 基础命令</h3> <ul><li><p>init 此命令初始化一个新本地仓库，它在工作目录下生成一个名为.git的隐藏文件夹</p></li> <li><p>add 将文件添加进暂存区</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>git add . 提交新文件(new)和被修改(modified)文件，不包括被删除(deleted)文件

git add -u 提交被修改(modified)和被删除(deleted)文件，不包括新文件(new)

git add -A(--all) 提交所有变化
</code></pre></div><ul><li>commit 将暂存区文件提交到当前分支</li></ul> <h3 id="创建ssh"><a href="#创建ssh" class="header-anchor">#</a> 创建SSH</h3> <ol><li><p><code>cd ~/.ssh</code> : 查看用户根目录是否有 ssh 文件</p></li> <li><p><code>ssh-keygen</code> : 在 Windows 上，<code>ssh-keygen</code> 该程序包含于 MSysGit(也就是git-for-windows) 【输入命令后，一直回撤即可】</p></li></ol> <div class="language- extra-class"><pre class="language-text"><code>ssh-keygen 
-b：指定密钥长度
-e：读取openssh的私钥或者公钥文件
-C：添加注释
-f：指定用来保存密钥的文件名
-i：读取未加密的ssh-v2兼容的私钥/公钥文件，然后在标准输出设备上显示openssh兼容的私钥/公钥
-l：显示公钥文件的指纹数据
-N：提供一个新密语
-P：提供（旧）密语
-q：静默模式
-t：指定要创建的密钥类型(rsa和dsa; 都是非对称加密算法,DSA 只能用于数字签名，而无法用于加密；RSA 即可作为数字签名，也可以作为加密算法)
</code></pre></div><h3 id="钩子"><a href="#钩子" class="header-anchor">#</a> 钩子</h3> <p>实例查看本项目的 pre-push文件</p> <ul><li><p>在初始化git时会在 <code>./git/hooks/</code> 中生成钩子脚本，默认加了 <code>.sample</code> 后缀，防止默认执行</p></li> <li><p>安装一个钩子只需要去掉.sample拓展名即可</p></li></ul> <h4 id="本地钩子"><a href="#本地钩子" class="header-anchor">#</a> 本地钩子</h4> <ul><li><p><code>pre-commit</code> 运行git commit 时被触发,不需要任何参数，以非0状态退出时将放弃整个提交</p></li> <li><p><code>prepare-commit-msg</code> 在pre-commit钩子在文本编辑器中生成提交信息之后被调用;用来方便地修改自动生成的squash或merge提交</p></li> <li><p><code>commit-msg</code> 它会在用户输入提交信息之后被调用。这适合用来提醒开发者他们的提交信息不符合你团队的规范</p></li> <li><p><code>post-commit</code> commit-msg钩子之后立即被运行 。它无法更改git commit的结果，所以这主要用于通知用途</p></li> <li><p><code>applypatch-msg</code> 执行git am命令时触发，常用于检查命令提取出来的提交信息是否符合特定格式</p></li> <li><p><code>pre-applypatch</code> git am提取出补丁并应用于当前分支后，准备提交前触发，常用于执行测试用例或检查缓冲区代码</p></li> <li><p><code>post-applypatch</code> git am提交后触发，常用于通知、或补丁邮件回复（此钩子不能停止git am过程）</p></li> <li><p><code>post-checkout</code> 和post-commit钩子很像，但它在你用git checkout查看引用的时候被调用。这是用来清理你的工作目录中可能会令人困惑的生成文件</p></li> <li><p><code>pre-rebase</code> git rebase发生更改之前运行</p></li> <li><p><code>post-rewrite</code> 执行会替换commit的命令时触发，比如git rebase或git commit –amend</p></li> <li><p><code>post-merge</code> 成功完成一次 merge行为后触发</p></li> <li><p><code>pre-push</code> 执行git push命令时触发，可用于执行测试用例</p></li> <li><p><code>pre-auto-gc</code> 执行垃圾回收前触发</p></li></ul> <h4 id="服务器钩子"><a href="#服务器钩子" class="header-anchor">#</a> 服务器钩子</h4> <ul><li><code>pre-receive</code> 用git push向仓库推送代码时被执行</li> <li><code>update</code> 在pre-receive之后被调用</li> <li><code>post-receive</code> post-receive</li></ul> <h3 id="怎么恢复-git-add-操作后，删除的工作区的文件；"><a href="#怎么恢复-git-add-操作后，删除的工作区的文件；" class="header-anchor">#</a> 怎么恢复 <code>git add .</code>操作后，删除的工作区的文件；</h3> <p>前提是在删除后没有 <code>git add</code> 操作</p> <ul><li>git reset head 文件地址加名称</li> <li>git checkout -- 文件地址加名称</li></ul> <hr> <p>husky npm包</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;husky&quot;: {
  &quot;hooks&quot;: {
    &quot;pre-commit&quot;: &quot;npm run lint-staged&quot;
  }
}
</code></pre></div><h3 id="状态"><a href="#状态" class="header-anchor">#</a> 状态</h3> <p>A：在本地新增的文件（服务器上没有）<br>
C：文件的一个新拷贝<br>
D：本地删除的文件（服务器上还在）<br>
M：文件的内容或mode被修改<br>
R：文件名被修改<br>
T：文件类型被修改<br>
U：文件没有被合并（你需要完成合并才能提交）<br>
X：未知状态<br>
搜索：man git diff-files。</p> <hr> <ul><li>Linux或Mac系统使用LF作为行结束符</li></ul> <hr> <h3 id="git-相关配置"><a href="#git-相关配置" class="header-anchor">#</a> git 相关配置</h3> <p>配置用户名和邮件地址：可以随便改</p> <div class="language- extra-class"><pre class="language-text"><code>git config --global user.name 'username'
git config --global user.email 'email'
</code></pre></div><p>查看系统、当前用户、当前仓库配置：</p> <div class="language- extra-class"><pre class="language-text"><code>git config --system --list
git config --global --list
git config --local --list
</code></pre></div><p>用户信息列表：<code>git config --global --list</code></p> <p>修改: <code>git config -- global user.name '其它'</code></p> <hr> <p>git clone 会默认将本地与远程分支进行追踪</p> <hr> <p>当在merge时产生了冲突（branchname|Marging）<br>
执行git add filename|. ,git commit –m ‘message’,再次将工作区的更改提交到本地仓库-区，告诉Git 冲突已解决。</p> <h3 id="分支操作"><a href="#分支操作" class="header-anchor">#</a> 分支操作</h3> <p>新建分支时会基于当前所在分支commit的内容新建。所以新建的分支会包含所有所基于的分支内容。</p> <hr> <ul><li><p>git branch  //显示所有分支（*表示当前所在分支）</p></li> <li><p>git branch branchName //创建新分支</p></li> <li><p>git checkout -f branchName // 强行切换分支</p></li> <li><p>git checkout –b branchName  //创建新分支并切换到该分支</p></li> <li><p>git branch –d branchName   //删除分支</p></li> <li><p>git branch -D branchName // 强行删除分支</p></li></ul> <h4 id="远程分支操作"><a href="#远程分支操作" class="header-anchor">#</a> 远程分支操作</h4> <ul><li>git remote add anyname url  anyname为别名。</li></ul> <p>url: 远程仓库地址链接  如：https://github.com/WarrenHewitt/blog-code.git</p> <p>一般 anyname 默认为 origin，当设置完成后，在推送代码时可以直接 git push anyname branchName 托送代码到指定仓库的指定分支</p> <p>当用git clone时默认的anyname为origin。</p> <hr> <ul><li>git push origin [localbranch | HEAD(就是当前活跃分支的游标)] : remotebranch (当远程和本地分支相同时可以简写：git push origin branchname)</li></ul> <p>这里的 origin 可以替代为 url 仓库地址</p> <hr> <ul><li><p>git push origin  localbranch : remotebranch 创建远程分支 确保本地已有 localbranch 分支</p></li> <li><p>git push origin  :remotebranch  删除远程分支 || git push origin --delete remotebranch</p></li> <li><p>git pull origin remotebranch:localbranch  表示获取远程分支的更新与本地分支合并.</p></li> <li><p>git pull origin remotebranch  表示与当前本地分支合并;</p> <p>相当于 git fetch origin 和git merge origin/remotebranch</p></li></ul> <hr> <ul><li><p>取消最近一次的commit： <code>git reset --soft HEAD^</code></p></li> <li><p>查看某个作者的所有commit: <code>git log --author=name</code></p></li> <li><p>完成撤销,同时将代码恢复到commit_id对应版本 <code>git reset --hard commit_id</code></p></li> <li><p>完成撤销,不对代码修改进行撤销 <code>git reset commit_id</code></p></li></ul> <hr> <ul><li>更新远程跟踪分支：
<ul><li><p><code>git fetch origin</code> 获取远程的所有分支，不然branch -a 查看不到新的远程分支</p></li> <li><p><code>git fetch origin master</code> 只取回特定分支的更新</p></li></ul></li></ul> <hr> <ul><li>git branch命令的 <strong>-r</strong> 选项，可以用来查看远程分支，<strong>-a</strong>选项查看所有分支</li></ul> <hr> <ul><li>打tag 前请先commit； git tag -a v1.1.1 -m 'describe'； git push --tags；然后git push； 否者当前分支对应的远程分支没有接收到本地最新代码</li></ul> <hr> <ul><li>拉取远程分支并创建本地分支
<ul><li><code>git checkout -b localBranch origin/originBranch</code></li> <li><code>git fetch origin originBranchName:localBranchName</code>  区别是不会切换到本地新分支</li></ul></li></ul> <h4 id="存储与清理"><a href="#存储与清理" class="header-anchor">#</a> 存储与清理</h4> <p>不想提交脏的状态</p> <p>git stash 或 git stash save '备注信息'
// 将你没有提交的内容全部存储；当前分支也不会保留这部分内容，只有重新apply才会将这些内容放入当前分支</p> <p>git stash list // 查看存储的列表，按时间降序排列</p> <p>git stash apply // 应用最近的存储</p> <p>git stash apply stash@{值} // 查看列表获取的值</p> <p>git stash drop stash@{值} // 移除某个暂存</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/note/mysql-mongo.html" class="prev">mysql-mongo</a></span> <span class="next"><a href="/blog/note/D3.html">D3</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.9e8c9158.js" defer></script><script src="/blog/assets/js/2.19854088.js" defer></script><script src="/blog/assets/js/45.3faa9556.js" defer></script>
  </body>
</html>
