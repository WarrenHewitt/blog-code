<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Warren&#39;s</title>
    <meta name="description" content="blog &amp; note">
    <link rel="icon" href="/blog/favicon.ico">
    
    <link rel="preload" href="/blog/assets/css/0.styles.e2d46898.css" as="style"><link rel="preload" href="/blog/assets/js/app.88c2ad93.js" as="script"><link rel="preload" href="/blog/assets/js/2.303d94bc.js" as="script"><link rel="preload" href="/blog/assets/js/44.467f7d97.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.8e5effdd.js"><link rel="prefetch" href="/blog/assets/js/11.dc51fa1e.js"><link rel="prefetch" href="/blog/assets/js/12.09d48eb4.js"><link rel="prefetch" href="/blog/assets/js/13.420757f0.js"><link rel="prefetch" href="/blog/assets/js/14.237484e6.js"><link rel="prefetch" href="/blog/assets/js/15.6567c74f.js"><link rel="prefetch" href="/blog/assets/js/16.3ec5937f.js"><link rel="prefetch" href="/blog/assets/js/17.40ae0f9f.js"><link rel="prefetch" href="/blog/assets/js/18.f2da2877.js"><link rel="prefetch" href="/blog/assets/js/19.f7198fec.js"><link rel="prefetch" href="/blog/assets/js/20.9499eea7.js"><link rel="prefetch" href="/blog/assets/js/21.d0bcb92e.js"><link rel="prefetch" href="/blog/assets/js/22.81b45454.js"><link rel="prefetch" href="/blog/assets/js/23.4516bd5f.js"><link rel="prefetch" href="/blog/assets/js/24.6fff42c8.js"><link rel="prefetch" href="/blog/assets/js/25.ef986386.js"><link rel="prefetch" href="/blog/assets/js/26.8d14e84f.js"><link rel="prefetch" href="/blog/assets/js/27.83881868.js"><link rel="prefetch" href="/blog/assets/js/28.6d4a2936.js"><link rel="prefetch" href="/blog/assets/js/29.705078f2.js"><link rel="prefetch" href="/blog/assets/js/3.2ab064b0.js"><link rel="prefetch" href="/blog/assets/js/30.0b140729.js"><link rel="prefetch" href="/blog/assets/js/31.11e0b1ae.js"><link rel="prefetch" href="/blog/assets/js/32.29b0e3b0.js"><link rel="prefetch" href="/blog/assets/js/33.7cf51e5e.js"><link rel="prefetch" href="/blog/assets/js/34.cb5a48fc.js"><link rel="prefetch" href="/blog/assets/js/35.4ab618a2.js"><link rel="prefetch" href="/blog/assets/js/36.da17f9f7.js"><link rel="prefetch" href="/blog/assets/js/37.5243ab75.js"><link rel="prefetch" href="/blog/assets/js/38.2dca5805.js"><link rel="prefetch" href="/blog/assets/js/39.0e52d464.js"><link rel="prefetch" href="/blog/assets/js/4.7cf40140.js"><link rel="prefetch" href="/blog/assets/js/40.588e5271.js"><link rel="prefetch" href="/blog/assets/js/41.d9ede35f.js"><link rel="prefetch" href="/blog/assets/js/42.712ef2ca.js"><link rel="prefetch" href="/blog/assets/js/43.7e2a768e.js"><link rel="prefetch" href="/blog/assets/js/45.08602ba5.js"><link rel="prefetch" href="/blog/assets/js/46.eba89984.js"><link rel="prefetch" href="/blog/assets/js/47.2bcc1954.js"><link rel="prefetch" href="/blog/assets/js/48.7271d7da.js"><link rel="prefetch" href="/blog/assets/js/49.c301b7fb.js"><link rel="prefetch" href="/blog/assets/js/5.4a5c2543.js"><link rel="prefetch" href="/blog/assets/js/50.0a6e2450.js"><link rel="prefetch" href="/blog/assets/js/51.de5a91de.js"><link rel="prefetch" href="/blog/assets/js/52.3cb85227.js"><link rel="prefetch" href="/blog/assets/js/53.847a8009.js"><link rel="prefetch" href="/blog/assets/js/54.c0fdc43c.js"><link rel="prefetch" href="/blog/assets/js/55.64401dc9.js"><link rel="prefetch" href="/blog/assets/js/56.358ab0a2.js"><link rel="prefetch" href="/blog/assets/js/57.7be0c989.js"><link rel="prefetch" href="/blog/assets/js/58.cfcfc0e7.js"><link rel="prefetch" href="/blog/assets/js/59.6a83858c.js"><link rel="prefetch" href="/blog/assets/js/6.c3c90bfd.js"><link rel="prefetch" href="/blog/assets/js/60.319a923f.js"><link rel="prefetch" href="/blog/assets/js/61.aff2e421.js"><link rel="prefetch" href="/blog/assets/js/62.f55a49e6.js"><link rel="prefetch" href="/blog/assets/js/63.3653f5d4.js"><link rel="prefetch" href="/blog/assets/js/64.a738528f.js"><link rel="prefetch" href="/blog/assets/js/65.1a47635c.js"><link rel="prefetch" href="/blog/assets/js/7.6a294629.js"><link rel="prefetch" href="/blog/assets/js/8.2fa64d4e.js"><link rel="prefetch" href="/blog/assets/js/9.550cb5ac.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.e2d46898.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/logo.png" alt="Warren's" class="logo"> <span class="site-name can-hide">Warren's</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/fe/" class="nav-link">前端</a></div><div class="nav-item"><a href="/blog/be/" class="nav-link">后端</a></div><div class="nav-item"><a href="/blog/note/" class="nav-link router-link-active">笔记</a></div><div class="nav-item"><a href="/blog/other/" class="nav-link">其它</a></div><div class="nav-item"><a href="https://github.com/WarrenHewitt" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/fe/" class="nav-link">前端</a></div><div class="nav-item"><a href="/blog/be/" class="nav-link">后端</a></div><div class="nav-item"><a href="/blog/note/" class="nav-link router-link-active">笔记</a></div><div class="nav-item"><a href="/blog/other/" class="nav-link">其它</a></div><div class="nav-item"><a href="https://github.com/WarrenHewitt" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>所有</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/note/examination.html" class="sidebar-link">笔试</a></li><li><a href="/blog/note/javascript.html" class="sidebar-link">javascript</a></li><li><a href="/blog/note/html.html" class="active sidebar-link">html</a></li><li><a href="/blog/note/css.html" class="sidebar-link">css</a></li><li><a href="/blog/note/react.html" class="sidebar-link">react</a></li><li><a href="/blog/note/vue.html" class="sidebar-link">vue</a></li><li><a href="/blog/note/web-app.html" class="sidebar-link">web-app</a></li><li><a href="/blog/note/typescript.html" class="sidebar-link">typescript</a></li><li><a href="/blog/note/mini-programe.html" class="sidebar-link">mini-programe</a></li><li><a href="/blog/note/node.html" class="sidebar-link">node</a></li><li><a href="/blog/note/java.html" class="sidebar-link">java</a></li><li><a href="/blog/note/python.html" class="sidebar-link">python</a></li><li><a href="/blog/note/mysql-mongo.html" class="sidebar-link">mysql-mongo</a></li><li><a href="/blog/note/git.html" class="sidebar-link">git</a></li><li><a href="/blog/note/D3.html" class="sidebar-link">D3</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p></p><div class="table-of-contents"><ul><li><a href="#canvas">canvas</a></li><li><a href="#svg">svg</a></li><li><a href="#html4">HTML4</a><ul><li><a href="#浏览器解析文档过程">浏览器解析文档过程</a></li></ul></li><li><a href="#标签">标签</a></li><li><a href="#属性">属性</a></li><li><a href="#meta">meta</a></li><li><a href="#embed">embed</a></li><li><a href="#与-dom-操作相关">与 dom 操作相关</a><ul><li><a href="#元素宽高-与滑动条">元素宽高,与滑动条</a></li><li><a href="#iframe">iframe</a></li></ul></li><li><a href="#html5-消息通知">Html5 消息通知</a></li><li><a href="#预览pdf">预览pdf</a></li></ul></div> <div class="table-of-contents"><ul><li><a href="#canvas">canvas</a></li><li><a href="#svg">svg</a></li><li><a href="#html4">HTML4</a><ul><li><a href="#浏览器解析文档过程">浏览器解析文档过程</a></li></ul></li><li><a href="#标签">标签</a></li><li><a href="#属性">属性</a></li><li><a href="#meta">meta</a></li><li><a href="#embed">embed</a></li><li><a href="#与-dom-操作相关">与 dom 操作相关</a><ul><li><a href="#元素宽高-与滑动条">元素宽高,与滑动条</a></li><li><a href="#iframe">iframe</a></li></ul></li><li><a href="#html5-消息通知">Html5 消息通知</a></li><li><a href="#预览pdf">预览pdf</a></li></ul></div><p></p> <ul><li>检测媒体 @media 后可用的查询 <code>window.matchMedia('print').addListener((res) =&gt; {});</code></li></ul> <h2 id="canvas"><a href="#canvas" class="header-anchor">#</a> canvas</h2> <ul><li><p>canvas 绘制的宽高不受css样式控制，要直接在标签上给设置，或是获取到canvas标签对象(canvasObj)，再设置(canvasObj.width = 1000)</p></li> <li><p>getContext() 方法返回一个用于在画布上绘图的环境；现在只有“2d”;</p></li> <li><p>渐变的效果发生在所规定的坐标之间，之外的就会用相应的纯色填充。</p></li> <li><p>.save()和.restore()之间定义的方法或定义只作用于他们之间</p></li> <li><p>用drawImage的时候要注意图片是不是已经加载了
参数形式可以是：
1.（imgObj，相对画布x位置，相对画布y位置）；
2.（imgObj, 相对画布x位置，相对画布y位置,图宽，图高）；
3.（imgObj, 图像x位置，图像y位置,裁切图的宽度，裁切图的高度,
相对画布x位置，相对画布y位置,被裁图宽，被裁图高
）</p></li> <li><p>Path2D</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>var canvas = document.getElementById(&quot;canvas&quot;);
var ctx = canvas.getContext(&quot;2d&quot;);

var path1 = new Path2D();
path1.rect(10, 10, 100,100);

var path2 = new Path2D(path1);
path2.moveTo(220, 60);
path2.arc(170, 60, 50, 0, 2 * Math.PI);

ctx.stroke(path2);
</code></pre></div><ul><li>设置宽高</li></ul> <div class="language- extra-class"><pre class="language-text"><code>window.addEventListener(&quot;resize&quot;, ()=&gt;{
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}, false);
</code></pre></div><h2 id="svg"><a href="#svg" class="header-anchor">#</a> svg</h2> <h2 id="html4"><a href="#html4" class="header-anchor">#</a> HTML4</h2> <h3 id="浏览器解析文档过程"><a href="#浏览器解析文档过程" class="header-anchor">#</a> 浏览器解析文档过程</h3> <ol><li>解析html文档，构建DOM树（遇到img标签就加载资源）</li> <li>加载样式，解析样式，构建样式规则树</li> <li>加载js，执行js代码</li> <li>把DOM树与样式树匹配构建渲染树（加载背景tupian）</li> <li>计算元素位置进行布局</li> <li>渲染绘制</li></ol> <p>DOM树里包含了所有HTML标签，包括display:none隐藏，还有用JS动态添加的元素等</p> <p>render tree不包含隐藏的节点 (比如display:none的节点，还有head节点)，因为这些节点不会用于呈现，而且不会影响呈现的，所以就不会包含到 render tree中</p> <p>重绘：render tree中的一些元素需要更新属性，而这些属性只是影响元素的外观，风格，而不会影响布局的，比如background-color</p> <p>回流：render tree中的一部分(或全部)因为元素的规模尺寸，布局，隐藏等改变而需要重新构建</p> <hr> <ul><li>input 标签相关操作：</li></ul> <p>disabled='disabled' 可用于option标签和input标签</p> <p>readonly='readonly'用于input标签，不能修改的。仍然可以使用 tab 键切换到该字段，还可以选中或拷贝其文本。</p> <p>input 标签设置属性 autofocus 自动获取焦点</p> <p>inputElement.focus()</p> <hr> <p>p 标签中不能放块级元素,内联元素中不能放块级元素;</p> <hr> <p>是用img来加载图片还是用背景图片：</p> <ol><li>页面会先加载img图片，若图片大会影响后面的内容的加载</li> <li>如果用背景来加载图片的话，就不会影响到页面的显示效果</li> <li>图片比较重要且资源小就用img</li> <li>alt属性有利于seo（搜索引擎优化）；更好的有利于seo用a标签加css的背景；</li></ol> <hr> <p>&amp;nbsp占位符</p> <h2 id="标签"><a href="#标签" class="header-anchor">#</a> 标签</h2> <ul><li>a</li></ul> <div class="language- extra-class"><pre class="language-text"><code>download: 添加该属性表示下载 href 内容而非导航，其值是下载文件的名称 
href: 可以是 http开头的地址也可以是  blob: URL(URL.createObjectURL创建) 或 data: URL , tel: URLs, mailto URLs  等
</code></pre></div><ul><li>table</li></ul> <div class="language- extra-class"><pre class="language-text"><code>属性:
colspan= 2  占多少列；
rowspan=2  占多少行；
align=left；   
cellspacing=&quot;0&quot;：两个单元格之间空间的大小；
cellpadding=&quot;0&quot;：单元的内容和边框之间的空间； 
border=&quot;1px&quot;

样式：
border-collapse: collapse; 去掉 table 中边框间间隔，合并边框
</code></pre></div><p>&lt; abbr title='people's republic of china'&gt;PRC&lt; /abbr&gt;</p> <p>为浏览器拼写和检查和搜索引擎提供有用的信息。新增的结构标签：（由DIV派生出来）</p> <p>section:页面中的一个内容区块（不用来布局，只用来划分网页）</p> <p>article：定义页面独立的区域</p> <p>aside：侧边栏内容</p> <p>header：</p> <p>hgroup：对网页或是区块（section）的标题进行整合</p> <p>footer：定义section或是文档的页脚</p> <p>nav：导航</p> <p>figure：独立的流内容，图片等</p> <p>mark:标记</p> <p>progress：进度条（支持性不好）</p> <p>time：定义公历的时间（24 小时制）或日期，时间和时区偏移是可选的。它的标注是给搜索引擎用的，方便搜索引擎生成更智能的的搜索结果。</p> <p>(属性datetime='2013-10-18T09：00Z'，pubdate 告诉搜索引擎这是该文档或是文章的创建时间。)</p> <p>T是分隔符Z表示UTC格式；</p> <p>detais:点击显示具体内容</p> <p>&lt; details&gt;&lt; summary&gt;总结&lt; /summary&gt;&lt; p&gt;kkk&lt; /p&gt;&lt; /details&gt;</p> <p>datalist: &lt; input id='myCar' list='car'/&gt;&lt; datalist id='car'&gt;</p> <p>&lt; option value='12'&gt;&lt; /option&gt;&lt; /datalist&gt;</p> <p>用于输入时，提示预先存储的值。</p> <p>pre: 定义预格式化的文本（保留文本中的空格和换行符）；通常用来包含代码。</p> <hr> <p>video 和 audio</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;video width=&quot;320&quot; height=&quot;240&quot; controls&gt;
    &lt;source src=&quot;movie.mp4&quot; type=&quot;video/mp4&quot;&gt;
    &lt;source src=&quot;movie.ogg&quot; type=&quot;video/ogg&quot;&gt;
    您的浏览器不支持 video 标签。
&lt;/video&gt;
</code></pre></div><hr> <h2 id="属性"><a href="#属性" class="header-anchor">#</a> 属性</h2> <p>&lt; html manifest= 'XX X.X X X'&gt;缓存网页</p> <hr> <p>脚本的加载顺序：先下载，再执行，再下载下一个，再执行；</p> <p>&lt; script defer&gt;:下载后，不执行，页面加载完才执行；</p> <p>&lt; script async&gt;：下载后立即执行，但是不影响加载下面的文档，仅对外部文件；</p> <hr> <p>&lt; link rel='icon'  type='images/png'sizes='16*16' href='images/delete.png'/&gt;</p> <p>图像通常可以使用任何被浏览器支持的图像格式</p> <p>size:还可以为32*32的；</p> <p>type:gif,png,ico(image/vnd.microsoft.icon);</p> <p>rel:shortcut icon</p> <p>&lt; link rel='shortcut icon' href='http://www.baidu.com/favicon.ico' mce_href='http://www.baidu.com/favicon.ico' type='image/x-icon'&gt;</p> <hr> <p>&lt; link rel='dns-prefetch' href='//g.tbcdn.cn'&gt;</p> <p>在加载网页时对网页中的域名进行解析缓存，这样在你单击当前网页中的连接时就无需进行DNS的解析</p> <hr> <p>&lt; base href = 'http 😕/www.w3school.com.cn/i/' /&gt;</p> <p>&lt; base target='_blank' /&gt;</p> <p>会在所有的URL（img link a...）前面加上base的href内容，并且跳转方式会用base的target值</p> <hr> <p>&lt; ol reversed(倒序) start='5' (从5开始) type='1，a，A，i，I'&gt;;</p> <hr> <p>&lt; input type='file' multiple(多选文件)/&gt;;元素的files属性则是一个FileList对象，
该对象是一个类数组对象，files[0] (表示第一个文件),files[1].........等，一个file对象就是一个Blob。有name，type，size（files[0].name）是火狐的标准+谷歌也可以。
当没有加multiple时 只有一个文件也是用files[0]来获取</p> <p>Filereader对象，图片预览等</p> <p>返回的值在 r.target.result中</p> <p>accept: MIME类型，多个之间用逗号隔开</p> <hr> <p>全局属性：</p> <p>data-*：自定义属性;</p> <p>hidden='hidden'隐藏元素;</p> <p>spellcheck='true/false'检查有无拼写错误；</p> <p>tableindex='1'设置按tab键的时候跳转顺序；</p> <p>contentEditable=true用contentEditable来让元素的内容可以编辑，还提供了一个javascript方法，window.document.designMode='on/off'让所有的内容是否可以修改。</p> <h2 id="meta"><a href="#meta" class="header-anchor">#</a> meta</h2> <p><strong>全屏</strong>
&lt; meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot; &gt;</p> <p>如果content设置为yes，Web应用会以全屏模式运行，反之，则不会。你可以通过只读属性window.navigator.standalone来确定网页是否以全屏模式显示。</p> <p>兼容性： iOS 2.1 +</p> <p>&lt; meta name='apple-mobile-web-app-status-bar-style' content='blank'&gt;</p> <p>除非你先使用apple-mobile-web-app-capable指定全屏模式，否则这个meta标签不会起任何作用。</p> <p>如果content设置为default，则状态栏正常显示。如果设置为blank，则状态栏会有一个黑色的背景。如果设置为blank-translucent，则状态栏显示为黑色半透明。如果设置为default或blank，则页面显示在状态栏的下方，即状态栏占据上方部分，页面占据下方部分，二者没有遮挡对方或被遮挡。如果设置为blank-translucent，则页面会充满屏幕，其中页面顶部会被状态栏遮盖住（会覆盖页面20px高度，而iphone4和itouch4的Retina屏幕为40px）。默认值default。</p> <p>兼容性:iOS 2.1 +</p> <hr> <p>&lt; meta http-equiv='Pragma'content='no-cache'&gt;</p> <p>禁止浏览器从本地计算机的缓存中访问该页面</p> <hr> <p>&lt; meta charset=&quot;UTF-8&quot;&gt; 大小写都可以</p> <hr> <p>&lt; meta http-equiv=&quot;refresh&quot; content=&quot;3;url=&quot;http://ww.baidu.com&quot;&gt;</p> <hr> <p>&lt; meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1 user-scalable=no, minimum-scale=1, maximum-scale=1&quot; &gt;</p> <hr> <p>&lt; meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1' /&gt;<br>
IE=edge告诉IE使用最新的引擎渲染网页，chrome=1则可以激活Chrome Frame ；</p> <p>所以使用X-UA-Compatible标签强制IE8采用低版本方式渲染。 有些因素会自动触发兼容性文档视图，这个时候设置X-UA-Compatible就可以防止这个自动触发的行为。</p> <hr> <h2 id="embed"><a href="#embed" class="header-anchor">#</a> embed</h2> <p>AllowScriptAccess:naver/aways    参数可以防止从一个域中承载的 SWF文件访问来自另一个域的 HTML页面中的脚本。</p> <p>allowNetworking:</p> <p>all: SWF 文件中允许使用所有网络API;</p> <p>internal: SWF 文件可能不调用浏览器导航或浏览器交互API，但是它会调用任何其它网络API.</p> <p>none: SWF 文件可能不调用浏览器导航或浏览器交互API，并且它无法使用任何SWF 到 SWF 通信 API</p> <hr> <h2 id="与-dom-操作相关"><a href="#与-dom-操作相关" class="header-anchor">#</a> 与 dom 操作相关</h2> <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model" target="_blank" rel="noopener noreferrer">MDN DOM<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>元素的插入</li></ul> <div class="language- extra-class"><pre class="language-text"><code>parentElement.insertBefore(Element, 在父元素中的某个子元素); // 在元素插入到指定元素前面

Element.appendChild(Element); // 在元素内部最后插入元素

ParentNode.prepend(Node,DOMString,...); // 在元素内部第一个元素前插入节点 IE不支持所以建议用 insertBefore 替代
</code></pre></div><hr> <ul><li><p><code>document.querySelector('#id').cloneNode(true)</code>  true表示子节点也clone，返回新 Node</p></li> <li><p>获取原始图片的真实宽高，非css样式修改后的宽高</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 注意是要在 onload 加载后才能调用</span>
<span class="token keyword">var</span> width <span class="token operator">=</span> htmlImageElement<span class="token punctuation">.</span>naturalWidth  
<span class="token keyword">var</span> height <span class="token operator">=</span> htmlImageElement<span class="token punctuation">.</span>naturalHeight
<span class="token comment">// htmlImageElement 可以是 document.querySelector 等类似方法获取的 img 元素 也可以是 new Image() 创建的元素</span>
</code></pre></div><h3 id="元素宽高-与滑动条"><a href="#元素宽高-与滑动条" class="header-anchor">#</a> 元素宽高,与滑动条</h3> <ul><li><p>获取 img 标签宽高：<code>htmlImageElement.width | height</code> htmlImageElement 提供了特别的属性和方法</p></li> <li><p>window.innerWidth | innerHeight 只能通过window调用获取浏览器视口</p></li> <li><p>htmlElement.clientWidth | clientHeight 包括内边距（兼容性好）</p></li> <li><p>htmlElement.offsetWidth | offsetHeight 包括内边距和边框的宽度</p></li> <li><p>htmlElement.scrollHeight  所有内容包括未被滚动到的</p></li> <li><p>window.screen.width 获取电脑屏幕宽度  (兼容ie10，有问题)</p></li> <li><p>window.innerHeight 浏览器窗口的视口高度</p></li> <li><p>没有滚动条时 scrollHeight 和 clientHeight 相同</p></li> <li><p>element.scrollIntoView({ behavior: &quot;smooth&quot;});//js原生，让元素滚动到可见区域</p></li> <li><p>js中是 element.scrollTop=100（scrollLeft）来设置或获取滑动条的位置;</p></li> <li><p>谷歌的页面滚动是用的body，火狐是用的html；</p></li> <li><p>谷歌:当scrollTop的值小于1时会直接返回0，所以用y=1除以a的x次方指数函数来趋近0来由快到慢的滑动。</p></li> <li><p>window 没有 scrollTop 等方法，有 scrollX 等，只能获取值： scrollTo({ top: ,  }) 可以设置值</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>var s = document.body.scrollHeight || document.documentElement.scrollHeight;
var c = window.innerHeight;
var px = s-c; // 表示滑到底部
if(window.scrollTo) {
    window.scrollTo({
        top: px,
        behavior: &quot;smooth&quot;
    });
} else {
    document.body.scrollTop = document.documentElement.scrollTop = px;
}
</code></pre></div><ul><li><code>Element.getBoundingClientRect()</code>  元素的大小及其相对于视口的位置</li></ul> <div class="language- extra-class"><pre class="language-text"><code>x: 推荐用left
y: 推荐用top
top: 距视口顶部距离
left: 距视口左边距离
width: 元素宽度
height: 元素高度
right: 元素右边距离视口左边的距离
bottom: 元素底部距离视口顶部的距离
</code></pre></div><ul><li>返回元素相对于父元素的位置，element.offsetLeft 和 offsetTop，用了position更精确。</li></ul> <h3 id="iframe"><a href="#iframe" class="header-anchor">#</a> iframe</h3> <ul><li><p>window.parent.document.getElementById();
在chrome中window.parent.document 要在服务器上才能使用。</p></li> <li><p>获取当前的内嵌页面url,就直接在该页面使用window.location.href即可。</p></li> <li><p>父页面查找子页面的元素：</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>// 跨域会有问题
// 注意要放入 onload 中  等待子页面加载完成才能获取
document.getElementById('iframeId').contentWindow.[document||document.body||document.getElementById('子页面ID')]；
</code></pre></div><ul><li>子页面查找父页面元素。</li> <li>不同域可以在两个页面都设置document.domain='主域名'。</li> <li>父子窗口传递消息</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 父窗口</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'iframeId'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span><span class="token function">postmessage</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token comment">// 子窗口iframe中使用</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>e<span class="token punctuation">.</span>data<span class="token punctuation">}</span>
</code></pre></div><h2 id="html5-消息通知"><a href="#html5-消息通知" class="header-anchor">#</a> Html5 消息通知</h2> <p>Notification（首字母大写） 或 刷新title</p> <p>谷歌测试时,要启用本地服务的方式</p> <p>Notification.requestPermission(function(permission){}),方法要用onclick等用户操作方法来调用。</p> <p>在手机上只有火狐的实现了</p> <h2 id="预览pdf"><a href="#预览pdf" class="header-anchor">#</a> 预览pdf</h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 方式一 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>embed</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./pdf.pdf<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>application/pdf<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>100%<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>100%<span class="token punctuation">&quot;</span></span> <span class="token attr-name">internalinstanceid</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>81<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            
<span class="token comment">&lt;!-- 方式二 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./pdf.pdf<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>100%<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>100%<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    当前浏览器不支持在线预览PDF，请<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./pdf.pdf<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>下载 PDF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>


<span class="token comment">&lt;!-- 方式三 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>object</span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./pdf.pdf<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>application/pdf<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>100%<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>100%<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    当前浏览器不支持在线预览PDF，请<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./pdf.pdf<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>下载 PDF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>object</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/note/javascript.html" class="prev">javascript</a></span> <span class="next"><a href="/blog/note/css.html">css</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.88c2ad93.js" defer></script><script src="/blog/assets/js/2.303d94bc.js" defer></script><script src="/blog/assets/js/44.467f7d97.js" defer></script>
  </body>
</html>
