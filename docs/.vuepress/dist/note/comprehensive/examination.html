<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Warren&#39;s</title>
    <meta name="description" content="blog &amp; note">
    <link rel="icon" href="/blog/favicon.ico">
    
    <link rel="preload" href="/blog/assets/css/0.styles.e2d46898.css" as="style"><link rel="preload" href="/blog/assets/js/app.508ac6a2.js" as="script"><link rel="preload" href="/blog/assets/js/2.303d94bc.js" as="script"><link rel="preload" href="/blog/assets/js/42.840c028d.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.f43edd71.js"><link rel="prefetch" href="/blog/assets/js/11.c709f606.js"><link rel="prefetch" href="/blog/assets/js/12.5f9dd1a6.js"><link rel="prefetch" href="/blog/assets/js/13.4b6ffb06.js"><link rel="prefetch" href="/blog/assets/js/14.59357553.js"><link rel="prefetch" href="/blog/assets/js/15.df94116c.js"><link rel="prefetch" href="/blog/assets/js/16.699dba82.js"><link rel="prefetch" href="/blog/assets/js/17.6df999c6.js"><link rel="prefetch" href="/blog/assets/js/18.55300328.js"><link rel="prefetch" href="/blog/assets/js/19.9091a4f6.js"><link rel="prefetch" href="/blog/assets/js/20.653cf1d6.js"><link rel="prefetch" href="/blog/assets/js/21.aec330c8.js"><link rel="prefetch" href="/blog/assets/js/22.d2aa7dce.js"><link rel="prefetch" href="/blog/assets/js/23.66bf88eb.js"><link rel="prefetch" href="/blog/assets/js/24.38d041b5.js"><link rel="prefetch" href="/blog/assets/js/25.61a9cb70.js"><link rel="prefetch" href="/blog/assets/js/26.0ac999d3.js"><link rel="prefetch" href="/blog/assets/js/27.14560189.js"><link rel="prefetch" href="/blog/assets/js/28.4e132a64.js"><link rel="prefetch" href="/blog/assets/js/29.eaa8eeda.js"><link rel="prefetch" href="/blog/assets/js/3.9cca368f.js"><link rel="prefetch" href="/blog/assets/js/30.67cd6f7e.js"><link rel="prefetch" href="/blog/assets/js/31.862d3940.js"><link rel="prefetch" href="/blog/assets/js/32.b3b5b41d.js"><link rel="prefetch" href="/blog/assets/js/33.4b1417fd.js"><link rel="prefetch" href="/blog/assets/js/34.417e9fa7.js"><link rel="prefetch" href="/blog/assets/js/35.732232b8.js"><link rel="prefetch" href="/blog/assets/js/36.2a9cade1.js"><link rel="prefetch" href="/blog/assets/js/37.1e2fca5a.js"><link rel="prefetch" href="/blog/assets/js/38.950e176a.js"><link rel="prefetch" href="/blog/assets/js/39.c691869b.js"><link rel="prefetch" href="/blog/assets/js/4.fe0ed61b.js"><link rel="prefetch" href="/blog/assets/js/40.af1ee485.js"><link rel="prefetch" href="/blog/assets/js/41.80c2bd63.js"><link rel="prefetch" href="/blog/assets/js/43.c8613f90.js"><link rel="prefetch" href="/blog/assets/js/44.deb824ba.js"><link rel="prefetch" href="/blog/assets/js/45.848768da.js"><link rel="prefetch" href="/blog/assets/js/46.f89214b3.js"><link rel="prefetch" href="/blog/assets/js/47.bb1aebd9.js"><link rel="prefetch" href="/blog/assets/js/48.f0a8503a.js"><link rel="prefetch" href="/blog/assets/js/49.7f72d106.js"><link rel="prefetch" href="/blog/assets/js/5.4a5c2543.js"><link rel="prefetch" href="/blog/assets/js/50.aba3a023.js"><link rel="prefetch" href="/blog/assets/js/51.0d3f9bc1.js"><link rel="prefetch" href="/blog/assets/js/52.896301bb.js"><link rel="prefetch" href="/blog/assets/js/53.5d93b722.js"><link rel="prefetch" href="/blog/assets/js/54.f9a03114.js"><link rel="prefetch" href="/blog/assets/js/55.0dfecc30.js"><link rel="prefetch" href="/blog/assets/js/56.cff156d4.js"><link rel="prefetch" href="/blog/assets/js/57.6a381ae6.js"><link rel="prefetch" href="/blog/assets/js/58.ff693989.js"><link rel="prefetch" href="/blog/assets/js/59.881ddaa4.js"><link rel="prefetch" href="/blog/assets/js/6.29238b1b.js"><link rel="prefetch" href="/blog/assets/js/60.63b5ff40.js"><link rel="prefetch" href="/blog/assets/js/61.9c59f322.js"><link rel="prefetch" href="/blog/assets/js/62.08dcd9d0.js"><link rel="prefetch" href="/blog/assets/js/63.44e85903.js"><link rel="prefetch" href="/blog/assets/js/64.415dec9d.js"><link rel="prefetch" href="/blog/assets/js/65.cde5e640.js"><link rel="prefetch" href="/blog/assets/js/66.88b9d01c.js"><link rel="prefetch" href="/blog/assets/js/67.4c49fb63.js"><link rel="prefetch" href="/blog/assets/js/68.377316b9.js"><link rel="prefetch" href="/blog/assets/js/69.35321fda.js"><link rel="prefetch" href="/blog/assets/js/7.6a294629.js"><link rel="prefetch" href="/blog/assets/js/8.b33c2662.js"><link rel="prefetch" href="/blog/assets/js/9.c0b7a614.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.e2d46898.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/logo.png" alt="Warren's" class="logo"> <span class="site-name can-hide">Warren's</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/fe/" class="nav-link">前端</a></div><div class="nav-item"><a href="/blog/be/" class="nav-link">后端</a></div><div class="nav-item"><a href="/blog/note/" class="nav-link router-link-active">笔记</a></div><div class="nav-item"><a href="/blog/other/" class="nav-link">其它</a></div><div class="nav-item"><a href="https://github.com/WarrenHewitt" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/fe/" class="nav-link">前端</a></div><div class="nav-item"><a href="/blog/be/" class="nav-link">后端</a></div><div class="nav-item"><a href="/blog/note/" class="nav-link router-link-active">笔记</a></div><div class="nav-item"><a href="/blog/other/" class="nav-link">其它</a></div><div class="nav-item"><a href="https://github.com/WarrenHewitt" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>语言学习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/note/language/javascript.html" class="sidebar-link">javascript</a></li><li><a href="/blog/note/language/html.html" class="sidebar-link">html</a></li><li><a href="/blog/note/language/css.html" class="sidebar-link">css</a></li><li><a href="/blog/note/language/react.html" class="sidebar-link">react</a></li><li><a href="/blog/note/language/vue.html" class="sidebar-link">vue</a></li><li><a href="/blog/note/language/web-app.html" class="sidebar-link">web-app</a></li><li><a href="/blog/note/language/typescript.html" class="sidebar-link">typescript</a></li><li><a href="/blog/note/language/mini-programe.html" class="sidebar-link">mini-programe</a></li><li><a href="/blog/note/language/node.html" class="sidebar-link">node</a></li><li><a href="/blog/note/language/java.html" class="sidebar-link">java</a></li><li><a href="/blog/note/language/python.html" class="sidebar-link">python</a></li><li><a href="/blog/note/language/mysql-mongo.html" class="sidebar-link">mysql-mongo</a></li><li><a href="/blog/note/language/git.html" class="sidebar-link">git</a></li><li><a href="/blog/note/language/D3.html" class="sidebar-link">D3</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>综合</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/note/comprehensive/canvasAndSvg.html" class="sidebar-link">canvas和svg相关用法</a></li><li><a href="/blog/note/comprehensive/examination.html" class="active sidebar-link">笔试</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p></p><div class="table-of-contents"><ul><li><a href="#内核">内核</a></li><li><a href="#兼容性">兼容性</a></li><li><a href="#清除浮动">清除浮动</a></li><li><a href="#undefined-not-defined-null">undefined || not defined || null</a></li><li><a href="#提升用户体验">提升用户体验</a></li><li><a href="#垃圾回收">垃圾回收</a></li><li><a href="#内存泄漏">内存泄漏</a><ul><li><a href="#堆-heap-栈-stack">堆(heap) 栈(stack)</a></li></ul></li><li><a href="#学习interview-map-笔记">学习interview map 笔记</a></li><li><a href="#js">js</a><ul><li><a href="#类型">类型</a></li><li><a href="#typeof">typeof</a></li><li><a href="#类型转换">类型转换</a></li><li><a href="#对象转基本类型">对象转基本类型</a></li><li><a href="#逗号操作符">逗号操作符</a></li><li><a href="#四则运算">四则运算</a></li><li><a href="#比较运算">比较运算</a></li></ul></li><li><a href="#原型">原型</a><ul><li><a href="#new">new</a></li><li><a href="#this">this</a></li></ul></li><li><a href="#执行上下文">执行上下文</a></li><li><a href="#闭包">闭包</a></li><li><a href="#深浅拷贝">深浅拷贝</a><ul><li><a href="#浅拷贝">浅拷贝</a></li><li><a href="#深拷贝">深拷贝</a></li></ul></li><li><a href="#模块化">模块化</a></li><li><a href="#事件">事件</a></li><li><a href="#event对象">event对象</a></li><li><a href="#事件委托优缺点">事件委托优缺点</a></li><li><a href="#event-loop">event loop</a></li><li><a href="#存储">存储</a></li><li><a href="#service-worker">Service worker</a></li><li><a href="#渲染机制">渲染机制</a></li><li><a href="#load与domcontentloaded">load与DOMContentLoaded</a></li><li><a href="#图层">图层</a></li><li><a href="#重绘和回流">重绘和回流</a></li><li><a href="#性能">性能</a><ul><li><a href="#网络相关">网络相关</a></li><li><a href="#缓存">缓存</a></li><li><a href="#gzip-压缩">gzip 压缩</a></li></ul></li><li><a href="#安全">安全</a><ul><li><a href="#xss-cross-site-scripting">XSS(cross-site scripting)</a></li><li><a href="#csrf">CSRF</a></li><li><a href="#密码安全">密码安全</a></li></ul></li><li><a href="#原码-反码-补码">原码 反码 补码</a></li><li><a href="#页面相关拦截">页面相关拦截</a></li></ul></div> <div class="table-of-contents"><ul><li><a href="#内核">内核</a></li><li><a href="#兼容性">兼容性</a></li><li><a href="#清除浮动">清除浮动</a></li><li><a href="#undefined-not-defined-null">undefined || not defined || null</a></li><li><a href="#提升用户体验">提升用户体验</a></li><li><a href="#垃圾回收">垃圾回收</a></li><li><a href="#内存泄漏">内存泄漏</a><ul><li><a href="#堆-heap-栈-stack">堆(heap) 栈(stack)</a></li></ul></li><li><a href="#学习interview-map-笔记">学习interview map 笔记</a></li><li><a href="#js">js</a><ul><li><a href="#类型">类型</a></li><li><a href="#typeof">typeof</a></li><li><a href="#类型转换">类型转换</a></li><li><a href="#对象转基本类型">对象转基本类型</a></li><li><a href="#逗号操作符">逗号操作符</a></li><li><a href="#四则运算">四则运算</a></li><li><a href="#比较运算">比较运算</a></li></ul></li><li><a href="#原型">原型</a><ul><li><a href="#new">new</a></li><li><a href="#this">this</a></li></ul></li><li><a href="#执行上下文">执行上下文</a></li><li><a href="#闭包">闭包</a></li><li><a href="#深浅拷贝">深浅拷贝</a><ul><li><a href="#浅拷贝">浅拷贝</a></li><li><a href="#深拷贝">深拷贝</a></li></ul></li><li><a href="#模块化">模块化</a></li><li><a href="#事件">事件</a></li><li><a href="#event对象">event对象</a></li><li><a href="#事件委托优缺点">事件委托优缺点</a></li><li><a href="#event-loop">event loop</a></li><li><a href="#存储">存储</a></li><li><a href="#service-worker">Service worker</a></li><li><a href="#渲染机制">渲染机制</a></li><li><a href="#load与domcontentloaded">load与DOMContentLoaded</a></li><li><a href="#图层">图层</a></li><li><a href="#重绘和回流">重绘和回流</a></li><li><a href="#性能">性能</a><ul><li><a href="#网络相关">网络相关</a></li><li><a href="#缓存">缓存</a></li><li><a href="#gzip-压缩">gzip 压缩</a></li></ul></li><li><a href="#安全">安全</a><ul><li><a href="#xss-cross-site-scripting">XSS(cross-site scripting)</a></li><li><a href="#csrf">CSRF</a></li><li><a href="#密码安全">密码安全</a></li></ul></li><li><a href="#原码-反码-补码">原码 反码 补码</a></li><li><a href="#页面相关拦截">页面相关拦截</a></li></ul></div><p></p> <hr> <ul><li>字节（Byte），一个字节代表八个比特（Bit）。1字节=1B。 1KB = 1024Byte = 1024*8 Bit</li></ul> <hr> <h2 id="内核"><a href="#内核" class="header-anchor">#</a> 内核</h2> <p>ie <strong>trident</strong> || chrome，Safari <strong>webkit</strong> || firefox <strong>gecko</strong> || Opera <strong>presto</strong><br>
chrome Opera 现在： Blink(基于webkit，Google与Opera Software共同开发)</p> <h2 id="兼容性"><a href="#兼容性" class="header-anchor">#</a> 兼容性</h2> <ol><li>&lt; !--[if IE]&gt; 所有的IE可识别 &lt;![endif]-- &gt;<br>
&lt; !--[if lt IE 9]&gt; IE9以下版本可识别 &lt;![endif]--&gt;<br> <strong>ie10及以上无效</strong></li></ol> <h2 id="清除浮动"><a href="#清除浮动" class="header-anchor">#</a> 清除浮动</h2> <ul><li>div style=&quot;clear:both;&quot;//左右侧</li> <li>parent:after{ content:&quot;.&quot;; height:0; visibility:hidden;display:block;
clear:both;}</li> <li>给包含浮动元素的父标签添加css属性 overflow:auto; zoom:1; zoom:1用于兼容IE6。</li></ul> <h2 id="undefined-not-defined-null"><a href="#undefined-not-defined-null" class="header-anchor">#</a> undefined || not defined || null</h2> <p>var x; // 声明 x<br>
console.log(x); //output: undefined<br>
console.log(z); // 抛出异常: ReferenceError: z is not defined</p> <hr> <p>typeof null //object<br>
null是一个表示&quot;无&quot;的对象，转为数值时为0；undefined是一个表示&quot;无&quot;的原始值，转为数值时为NaN。<br>
var a; Number(a); //NaN<br>
5 + undefined ;//NaN<br>
基本是同义的，null表示&quot;没有对象&quot;，即该处不应该有值。<br>
null 表示一个值被定义了，定义为“空值”；<br>
undefined 表示根本不存在定义。<br>
所以设置一个值为 null 是合理的，如<br>
objA.valueA = null;<br>
但设置一个值为 undefined 是不合理的</p> <ul><li>link 与 @import区别：1. CSS 提供的语法规则，只有导入样式表的作用，link是HTML提供的标签，可以定义 RSS、rel 连接属性等；2.加载页面时，link标签同时加载；@import在页面加载完毕后被加载；3.@import在 IE5+ 才能识别，link不存在兼容性问题；5.link可以用js插入，@import不可</li></ul> <h2 id="提升用户体验"><a href="#提升用户体验" class="header-anchor">#</a> 提升用户体验</h2> <p><strong>ajax</strong> ：表单验证时的实时验证，局部的dom改写。<br> <strong>字体</strong> ：不同的字体会影响用户对站点权威性的信赖程度<br> <strong>加载速度</strong>  ：</p> <ol><li>如今大多数浏览器在下载css/js时是并行的，但是单线程运行js的，这也就意味着一个js文件在被解析的同时浏览器不能对任何事件做出响应，直到浏览器弄明白这个js是干什么的才会转向下一个js文件；所以将js文件放尾部，优先下载了html/css等文件，这样会给用户一些错觉，认为网站已经加载。加载js时候会阻塞浏览器的渲染操作。window的 onload 方法里面执行添加script标签。</li> <li>保证代码的规范性避免404页面，保证每个资源能够正常加载。</li> <li>一个页面中如果频繁出现向其他域名请求数据，而且使用的是域名，则会出现频繁的DNS解析。</li> <li>公共库cdn资源，当其他网站也，使得很多访客的缓存中已经存在这些公共库的资源。第二张页面时，如果使用的是同一个外部css/js文件</li></ol> <p><strong>页面解构设计</strong> <strong>细节</strong></p> <h2 id="垃圾回收"><a href="#垃圾回收" class="header-anchor">#</a> 垃圾回收</h2> <p>垃圾回收机制依赖引用计数，如果一个值的引用次数不为0，垃圾回收机制就不会释放这块内存，当使用了值之后未取消引用，可能导致内存泄漏</p> <ul><li>当没有变量指向某一内存 a={b:1}; a={c:2}; 存贮{b:1} 会被回收</li> <li>函数调用完后，内部所有变量将被回收</li></ul> <h2 id="内存泄漏"><a href="#内存泄漏" class="header-anchor">#</a> 内存泄漏</h2> <ol><li>全局变量不会被回收（除了退出浏览器），函数运行完之后，运行函数的内存区被回收。</li> <li>闭包。</li> <li>DOM被删除或清空时，事件未清除导致的内存泄漏。
避免使用全局变量和函数<br>
var myvar = 0; // 336ms window.myvar = 0; // 2383ms<br>
var myfunc = function(){} // 3515ms window.myfunc = function(){} // 10151ms<br>
避免用new创建函数和数组；<br>
用对象方式比数组方式更快一点<br>
a[i] = value; // 1270ms obj[property] = value; // 960ms</li></ol> <h3 id="堆-heap-栈-stack"><a href="#堆-heap-栈-stack" class="header-anchor">#</a> 堆(heap) 栈(stack)</h3> <ul><li>栈：自动分配内存，自动释放</li> <li>堆：动态分配内存，大小不定也不自动释放空间</li></ul> <h2 id="学习interview-map-笔记"><a href="#学习interview-map-笔记" class="header-anchor">#</a> 学习interview map 笔记</h2> <p><a href="https://yuchengkai.cn/docs/zh/frontend/" target="_blank" rel="noopener noreferrer">https://yuchengkai.cn/docs/zh/frontend/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="js"><a href="#js" class="header-anchor">#</a> js</h2> <h3 id="类型"><a href="#类型" class="header-anchor">#</a> 类型</h3> <ul><li><p>基本类型 <code>string boolean number null undefined symbol</code></p></li> <li><p>引用类型 <code>object array function</code></p></li> <li><p>变量,基本数据类型在栈,对象在堆
<a href="https://juejin.im/post/5a61ab6a51882573385fcebc" target="_blank" rel="noopener noreferrer">事例查看，已解决<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>基本类型(Symbol)和引用类型(Object，array等)</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> symbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'接受一个字符串参数，以作区分用'</span><span class="token punctuation">)</span> <span class="token comment">// 独一无二的</span>
<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'s'</span><span class="token punctuation">)</span>
s <span class="token comment">// Symbol(s)</span>
</code></pre></div><ul><li><p>NaN属于number，两个 NaN === NaN 返回false</p></li> <li><p>字面量只有在使用的时候才会变成对应的类型</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span>    <span class="token comment">// 此时只是字面量</span>
a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 此时变为引用类型</span>
</code></pre></div><h3 id="typeof"><a href="#typeof" class="header-anchor">#</a> typeof</h3> <ul><li>返回的值都是小写,有number,boolean,string,function,object,undefined</li> <li>当变量没有定义时可以用 if(typeof variable === 'undefined') 来判断，若直接判断则会报错阻碍程序后续执行</li> <li>Array,null 返回 object</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// &quot;[object Null]&quot;</span>
<span class="token keyword">typeof</span> a <span class="token comment">// object</span>
</code></pre></div><h3 id="类型转换"><a href="#类型转换" class="header-anchor">#</a> 类型转换</h3> <ul><li>条件判断时，除了undefined,null,NaN,'',0,-0,false其它值都转换为true</li></ul> <h3 id="对象转基本类型"><a href="#对象转基本类型" class="header-anchor">#</a> 对象转基本类型</h3> <ul><li>先调valueOf()然后调toString(),且都可以被重写</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toPrimitive<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">9</span> <span class="token comment">//只能返回Number String，优先级更高</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'you are'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'SB'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">+</span>a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token comment">// 没有重写valueOF 返回 SBSB</span>
<span class="token comment">// 没有重写toString 返回 you are[object Object]</span>
<span class="token comment">// 返回 you areSB</span>
<span class="token comment">// 有了toPrimitive方法，即不返回valueOf的值</span>
</code></pre></div><h3 id="逗号操作符"><a href="#逗号操作符" class="header-anchor">#</a> 逗号操作符</h3> <p>对它的每个操作数求值（从左到右），并返回最后一个操作数的值</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span>
a<span class="token operator">=</span><span class="token punctuation">(</span>b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1</span>
</code></pre></div><h3 id="四则运算"><a href="#四则运算" class="header-anchor">#</a> 四则运算</h3> <ul><li>赋值运算符是右结合性的
A = B = C = D  等价于 A = (B = (C = D))</li></ul> <p>先计算左边的表达式（计算的值为内存中的地址），再计算右边的表达式，然后再将右边返回的值赋值给左边返回的对应的地址</p> <ul><li><p>加法中，其中一个是字符串，另一个也会转为字符串，其它运算，只要其中一方是数字，就会都转为数字</p></li> <li><p>加法运算会触发三种类型转换：
转换为原始值，转换为数字（ + 'b' 等于NaN），转换为字符串</p></li></ul> <h3 id="比较运算"><a href="#比较运算" class="header-anchor">#</a> 比较运算</h3> <p>UTF-8 就是在互联网上使用最广的一种 Unicode 的实现方式</p> <p>JavaScript语言采用Unicode字符集，但是只支持一种编码方法，UCS-2</p> <p>charCodeAt(): 返回0到65535之间的整数</p> <p>Unicode前128个编码单元等于ascii值</p> <p>英文数字，按照ASCII码比较</p> <p>中文是按照Unicode编码比较的</p> <h2 id="原型"><a href="#原型" class="header-anchor">#</a> 原型</h2> <p><a href="https://github.com/KieSun/Blog/issues/2" target="_blank" rel="noopener noreferrer">未完<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="new"><a href="#new" class="header-anchor">#</a> new</h3> <p>自己实现new（未完成）</p> <p>发生以下四个步过程：</p> <ul><li>新生成了一个对象</li> <li>链接到原型</li> <li>绑定 this</li> <li>返回新对象</li></ul> <p>优先级：new Foo() 的优先级大于 new Foo，前者是函数，后者是对象</p> <h3 id="this"><a href="#this" class="header-anchor">#</a> this</h3> <p>指向调用函数前的对象</p> <ul><li><p>优先级：有函数调用的会覆盖指向window的，用new创建的优先级最高</p></li> <li><p>箭头函数没有this，它的 this 只取决于他外面的第一个不是箭头函数的函数的 this</p></li></ul> <h2 id="执行上下文"><a href="#执行上下文" class="header-anchor">#</a> 执行上下文</h2> <p>变量提升的过程中，相同的函数会覆盖上一个函数，并且函数优先于变量提升</p> <h2 id="闭包"><a href="#闭包" class="header-anchor">#</a> 闭包</h2> <p>一个函数X返回另一个函数Y，且Y使用了X的变量，Y就被称为闭包，X已经出了调用栈，Y能调用X的变量原因是X的变量此时已存贮在堆上，JS引擎通过逃逸分析哪些变量
需要存贮在堆上，哪些需要存贮在栈上。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span><span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span> <span class="token keyword">function</span> <span class="token function">timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> i<span class="token operator">*</span><span class="token number">1000</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 原因是let有个块级作用域，每一次循环都新声明了一个i；引擎内部会记住上一轮循环的值，初始化本轮的变量i时，就在上一轮循环的基础上进行计算</span>
<span class="token comment">// 而var是声明被提升到全局</span>
<span class="token comment">// for循环还有一个特别之处，就是设置循环变量的那部分是一个父作用域，而循环体内部是一个单独的子作用域</span>
</code></pre></div><h2 id="深浅拷贝"><a href="#深浅拷贝" class="header-anchor">#</a> 深浅拷贝</h2> <h3 id="浅拷贝"><a href="#浅拷贝" class="header-anchor">#</a> 浅拷贝</h3> <p>不会拷贝对象的子对象</p> <ul><li>Object.assign(target, source)</li> <li>展开运算符 ...</li></ul> <h3 id="深拷贝"><a href="#深拷贝" class="header-anchor">#</a> 深拷贝</h3> <p>对对象以及对象的所有子对象进行递归拷贝</p> <ul><li><p>JSON.parse(JSON.stringify(object)) ：会忽略undefined，不能解决循环引用， 不能序列化函数</p></li> <li><p>lodash</p></li> <li><p>MessageChannel</p></li> <li><p>形如 <code>[{ a:1, b:2 }]</code> 的对象数组，简单的深拷贝实现</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span><span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>item <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="模块化"><a href="#模块化" class="header-anchor">#</a> 模块化</h2> <ul><li>ES6</li> <li>CommonJs 是 Node 独有的规范</li> <li>AMD 是由 RequireJS 提出的</li></ul> <h2 id="事件"><a href="#事件" class="header-anchor">#</a> 事件</h2> <ul><li>任意事件触发后三个阶段：捕获（window到目标）-&gt; 目标 -&gt; 冒泡。addeventListener(,,false默认(冒泡阶段执行)||true)</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>outDiv<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'button 冒泡阶段'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>

document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'outDiv'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'外层 div 捕获阶段'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>

<span class="token comment">// 点击按钮返回</span>
<span class="token comment">// 外层 div 捕获阶段</span>
<span class="token comment">// button 冒泡阶段</span>
</code></pre></div><blockquote><p>attachEvent('onclick',function(){}) //兼容ie8</p></blockquote> <p>addeventListener('click',function(){},false) //w3c</p> <h2 id="event对象"><a href="#event对象" class="header-anchor">#</a> event对象</h2> <ol><li>event.stopPropagation传播():阻止事件传递(相同)，不管是冒泡还是捕获；IE8以及以下版本用event.cancelBubble冒泡 =true;</li> <li>event.target   返回触发此事件的元素(可用于事件委托),IE下是event.srcElement;</li> <li>添加的事件函数中用return false来实现stopPropagation()和preventDefault()的功能。</li></ol> <ul><li>同一节点同时注册冒泡和捕获事件，按注册代码先后顺序执行</li> <li>addEventListener(),第三个参数如果是对象</li></ul> <div class="language- extra-class"><pre class="language-text"><code>{
    capture: Boolean  // 和直接输Boolean一样
    once: Boolean // 回调只执行一次
    passive: Boolean // 永远不会调用preventDefault    
}
</code></pre></div><ul><li>stopPropagation 可以阻止冒泡和捕获</li> <li>stopImmediatePropagation() 可以阻止在同一元素上的后执行的事件，比如挂载了多个click当执行到有该方法的事件回调后，后面的事件即被阻止</li></ul> <h2 id="事件委托优缺点"><a href="#事件委托优缺点" class="header-anchor">#</a> 事件委托优缺点</h2> <ol><li>减少事件注册，节省内存。</li> <li>子对象动态绑定。</li> <li>若把所有事件用代理方式容易出现误判。</li></ol> <h2 id="event-loop"><a href="#event-loop" class="header-anchor">#</a> event loop</h2> <ul><li><p>js执行过程中会产生执行环境，这些环境会被顺序加入到执行栈中。</p></li> <li><p>遇到异步代码，会被挂起并加入到Task(有多种)队列中</p></li> <li><p>执行栈空了后，Event loop 便从Task队列中拿出需要执行的放入执行栈执行</p></li> <li><p>setTimeout后面的是异步函数，即便设置了0秒延迟，也是在同步之后执行，HTML5规定延迟不得小于4ms，不足自动增加，和浏览器也有关联</p></li> <li><p>不同任务源会被分配到不同Task队列，任务源分为微任务（micro task：es6中叫jobs）和宏任务（macro task：es6中叫task）</p> <p>微任务：promise，process.nextTick，Object.observe，MutationObserver</p> <p>宏任务：script，setTimeout，setInterval，setImmediate，I/O，UI rendering</p> <p>浏览器会先执行一个宏任务，然后的异步代码会优先微任务</p></li> <li><p>一次EventLoop顺序：</p> <ul><li>执行同步代码（属于宏任务）</li> <li>执行栈为空，查询是否有微任务要执行</li> <li>执行微任务</li> <li>若有需要，渲染UI</li> <li>下一轮的EventLoop，执行宏任务的异步代码</li></ul></li></ul> <h2 id="存储"><a href="#存储" class="header-anchor">#</a> 存储</h2> <p>cookie（4K）：删除 同名加max-age=0</p> <p>localStorage(5M)，sessionStorage（页面关闭就清理）:可保存的数据大小与浏览器有关</p> <p>indexDB（无限）</p> <h2 id="service-worker"><a href="#service-worker" class="header-anchor">#</a> Service worker</h2> <p><a href="https://yuchengkai.cn/docs/zh/frontend/browser.html#service-worker" target="_blank" rel="noopener noreferrer">https://yuchengkai.cn/docs/zh/frontend/browser.html#service-worker<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="渲染机制"><a href="#渲染机制" class="header-anchor">#</a> 渲染机制</h2> <ol><li>处理html并构建DOM树</li> <li>处理css构建CSSOM树</li> <li>将DOM与CSSOM合并成一颗渲染树</li> <li>根据渲染树来布局(layout)，计算每个节点的位置</li> <li>调用GPU绘制，合成图层，显示</li></ol> <p>构建CSSOM树</p> <ul><li>会阻塞渲染，直到构建完成。</li> <li>十分消耗性能</li> <li>所以应尽量保证层级扁平</li> <li>css选择器层级越多，执行越慢，最好用id，class</li></ul> <p>html解析到script标签，会暂停构建DOM，完成后继续。如果头引入了css，会等解析完样式才会执行js</p> <h2 id="load与domcontentloaded"><a href="#load与domcontentloaded" class="header-anchor">#</a> load与DOMContentLoaded</h2> <p>Load 事件触发代表页面中的 DOM，CSS，JS，图片已经全部加载完毕。</p> <p>DOMContentLoaded 事件触发代表初始的 HTML 被完全加载和解析</p> <h2 id="图层"><a href="#图层" class="header-anchor">#</a> 图层</h2> <ul><li>普通文档流看成一个图层</li> <li>不同的图层渲染互不影响</li> <li>某些频繁需要渲染的建议单独生成一个新图层，提高性能</li> <li>不可生成过多图层，会有反效果</li></ul> <p>以下方法可产生新图层</p> <ul><li>3D变化，translate3d，translateZ</li> <li>will-change</li> <li>video，iframe标签</li> <li>动画实现opacity动画转换</li> <li>position：fixed</li></ul> <h2 id="重绘和回流"><a href="#重绘和回流" class="header-anchor">#</a> 重绘和回流</h2> <p>重绘：不会影响布局的样式改变</p> <p>回流：布局或者几何属性需要改变，必定产生重绘</p> <p>和EventLoop关系</p> <ul><li>EventLoop执行完microtasks后，会判断是否需要document需要更新</li> <li>判断有无resize和scroll事件需要触发</li> <li>判断是否有media query</li> <li>更新动画并发送事件</li> <li>判断是否有全屏操作事件</li> <li>执行requestAnimationFrame回调</li> <li>执行IntersectionObserver回调，该方法用于判断元素是否可见，可以用于懒加载上，但是兼容性不好</li> <li>更新界面</li> <li>以上就是一帧中可能会做的事情。如果在一帧中有空闲时间，就会去执行 requestIdleCallback 回调</li></ul> <p>减少重绘和回流</p> <ul><li>使用translate代替top</li> <li>visibility 替换 display: none ，因为前者只会引起重绘，后者会引发回流（改变了布局）</li> <li>批量更改后一次修改DOM</li> <li>不要在循环里反复获取DOM节点属性（如node.style.offsetTop）</li> <li>不要使用 table 布局，可能很小的一个小改动会造成整个 table 的重新布局</li> <li>动画实现的速度的选择，动画速度越快，回流次数越多，也可以选择使用 requestAnimationFrame</li> <li>css查找避免深度过深（找到符合匹配规则的节点就加入结果集；直到根元素html都没有匹配，则不再遍历这条路径，从下一个最右边的规则开始）。css查询规则是从最右边开始。</li> <li>将频繁运行的动画变为图层，图层能够阻止该节点回流影响别的元素。比如对于 video 标签</li></ul> <h2 id="性能"><a href="#性能" class="header-anchor">#</a> 性能</h2> <h3 id="网络相关"><a href="#网络相关" class="header-anchor">#</a> 网络相关</h3> <p>DNS预解析：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//delai.me&quot;&gt;  
</code></pre></div><ol><li>对静态资源域名需要手动做dns prefetching</li> <li>对js里会发起的跳转需要手动做dns prefetching</li> <li>不用对超链接做,浏览器会自动做</li> <li>对重定向跳转的新域名做手动dns prefetching</li></ol> <p>最优方法：通过js初始化一个iframe异步加载一个页面，而这个页面里包含本站所有的需要手动dns prefetching的域名</p> <h3 id="缓存"><a href="#缓存" class="header-anchor">#</a> 缓存</h3> <ul><li>强缓存
两种方式：</li> <li>Expires：Wed, 22 Oct 2018 08:41:00 GMT 改时间后过期</li> <li>Cache-Control： max-age=30 30s后过期，HTTP/1.1 优先级高于Expire</li></ul> <p>通过配置web服务器的方式，让web服务器在响应资源的时候统一添加Expires和Cache-Control Header。</p> <ul><li><p>协商缓存
如果缓存过期了，我们就可以使用协商缓存来解决问题。协商缓存需要请求，如果缓存有效会返回 304。</p></li> <li><p>使用 HTTP / 2.0</p></li> <li><p>预加载</p></li></ul> <h3 id="gzip-压缩"><a href="#gzip-压缩" class="header-anchor">#</a> gzip 压缩</h3> <ul><li>客户端浏览器存在兼容问题</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Response Headers
Accept-Encoding: gzip
</code></pre></div><ul><li><p>tomcat 可配置</p></li> <li><p>nginx 可配置</p></li> <li><p>koa 用 koa-compress express 用 compression，使用webpack插件compression-webpack-plugin 将资源文件压缩为.gz文件，并且根据客户端的需求按需加载</p></li> <li><p>压缩后可能文件反而变大，所以用其它方式压缩过的可不必再压缩</p></li></ul> <hr> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">&quot;preload&quot;</span> href<span class="token operator">=</span><span class="token string">&quot;http://example.com&quot;</span><span class="token operator">&gt;</span>
</code></pre></div><p>....等<a href="https://yuchengkai.cn/docs/zh/frontend/performance.html#cdn" target="_blank" rel="noopener noreferrer">https://yuchengkai.cn/docs/zh/frontend/performance.html#cdn<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <hr> <h2 id="安全"><a href="#安全" class="header-anchor">#</a> 安全</h2> <h3 id="xss-cross-site-scripting"><a href="#xss-cross-site-scripting" class="header-anchor">#</a> XSS(cross-site scripting)</h3> <p>代码注入的一种
分为三种：反射型，存储行，DOM-base</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">'alert(1)'</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'ss'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</code></pre></div><h3 id="csrf"><a href="#csrf" class="header-anchor">#</a> CSRF</h3> <p>钓鱼网站中加入如下代码，链接为一个get请求，</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;img src=&quot;http://localhost:2500/api/names/?name=hew&quot; alt=&quot;no&quot;&gt;
</code></pre></div><p>防范</p> <ul><li>Get 请求不对数据进行修改</li> <li>不让第三方网站访问到用户 Cookie</li> <li>阻止第三方网站请求接口</li> <li>请求时附带验证信息，比如验证码或者 token</li></ul> <h3 id="密码安全"><a href="#密码安全" class="header-anchor">#</a> 密码安全</h3> <p>密码加盐，只能保证用户真实密码不会泄露，对于暴力访问破解，可以使用验证码拖延时间，或是限制访问次数</p> <p>采用crypto包 处理</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> CryptoJS <span class="token keyword">from</span> <span class="token string">'crypto-js'</span>
CryptoJS<span class="token punctuation">.</span><span class="token constant">MD5</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
CryptoJS<span class="token punctuation">.</span><span class="token constant">SHA1</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 注意方法名的大小写</span>

</code></pre></div><ul><li>MD5 信息摘要算法（Message-Digest Algorithm）：把一个任意长度的字节串变换成一定长的十六进制数字串</li> <li>SHA 安全哈希算法（Secure Hash Algorithm）</li></ul> <p>框架知识
angluar</p> <ul><li>脏数据检测
触发事件调用$digest(遍历所有数据观察者，判断值是否变化),有变化调用$watch,然后再调$digest,2&lt;=循环&lt;=10，可批量检测出更新值再统一更新UI。</li></ul> <p>vue</p> <ul><li>数据劫持
Object.definedProperty() 实现双向绑定</li></ul> <hr> <p>M: 数据及数据的获取，页面模板等</p> <p>V: html css</p> <p>C: js 及 js操作框架</p> <p>mvc: c中直接获取元素节点进行渲染</p> <p>mvp：通过view提供的接口进行渲染</p> <p>mvvm： 数据双向绑定</p> <h2 id="原码-反码-补码"><a href="#原码-反码-补码" class="header-anchor">#</a> 原码 反码 补码</h2> <div class="language- extra-class"><pre class="language-text"><code>用8位二进制表示，最高位就是符号位所以表示的范围就为：[1111 1111, 0111 1111],即[-127, 127]

正数为0, 负数为1

原码：符号位加上值的绝对值 

反码：正数的反码是其本身； 负数的反码是在其原码的基础上, 符号位不变，其余各位取反

补码：正数的补码就是其本身；负数的补码是在其原码的基础上, 符号位不变, 其余各位取反, 最后+1
</code></pre></div><h2 id="页面相关拦截"><a href="#页面相关拦截" class="header-anchor">#</a> 页面相关拦截</h2> <ol><li><p>拦截 ajax 请求：修改 XMLHttpRequest 原型或重写 XMLHttpRequest</p></li> <li><p>拦截 a 标签，将 a 标签的 src属性值替换，并加上点击事件</p></li> <li><p>拦截点击事件，可以在父元素上添加事件，缺点是只能在捕获阶段拦截，而且拦截后，若直接阻止传递，原本挂载的事件也无法执行</p></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/note/comprehensive/canvasAndSvg.html" class="prev">canvas和svg相关用法</a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.508ac6a2.js" defer></script><script src="/blog/assets/js/2.303d94bc.js" defer></script><script src="/blog/assets/js/42.840c028d.js" defer></script>
  </body>
</html>
