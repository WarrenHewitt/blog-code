<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        rect{
            background: red
        }
    </style>
</head>

<body>
    <svg id="svg" xmlns="http://www.hew/1/svg" version="1.0" style="width: 100%; height: 500px;background-color: rgb(5, 216, 216);">

        <!-- <path d="M 310 100, L 310 5, A 700 700 0 0 0 580 100" fill="green" stroke="pink" stroke-width="2"/>
        -->

        <!-- <g transform="translate(500,200)" fill="red">
            <rect x="0" y="0" rx="2" ry="2" width="120" height="30" fill="#E2E2E2"/>
            <text x="30" y="20" fill="red">判断</text>
        </g> -->

        <!-- <g transform="translate(700,400)" fill="red">
            <rect x="0" y="0" rx="2" ry="2" width="120" height="30" fill="#E2E2E2"/>
            <text x="30" y="20" fill="red">1</text>
        </g> -->

        <!-- <g transform="translate(500,200)" fill="red">
            <path d="M 60 31 L 60 50 L 260 50 L260 200" fill="none" stroke="pink" stroke-width="2"/>
        </g> -->

        <!-- <g transform="translate(100,100)" fill="red">
            <path d="M 100 100, Q 200 2 300 100" fill="none" stroke="pink" stroke-width="2"/>
            <path transform="rotate(-45,300,100)" d="M 300 100 L 303 97 L300 103 L 297 97 Z" fill="none" stroke="pink" stroke-width="2"/>
        </g> -->


        <!-- <g transform="translate(-100,-220)" style="visibility: visible; cursor: row-resize;">
            <path d="M 1722 499 L 1932 499 L 1932 602.63" fill="none" stroke="white" stroke-miterlimit="10" pointer-events="stroke" visibility="hidden" stroke-width="9"></path>
            <path d="M 1722 499 L 1932 499 L 1932 602.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"></path>
            <path d="M 1932 607.88 L 1928.5 600.88 L 1932 602.63 L 1935.5 600.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"></path>
        </g> -->
    </svg>
    <script>
        var data = [{
            name: 'hew',
            children: [
                { 
                    name: 'warren',
                    children: [
                        { 
                            name: 'name1', 
                            children: [
                                {
                                    name: 'n1'
                                },
                                {
                                    name: 'n2'
                                },
                                {
                                    name: 'n3'
                                },
                            ] 
                        },
                        { name: 'name2' },
                    ]
                }
            ]
        }]

        const svg = document.querySelector('#svg');
        let str = ''
        let verticalHeight= 0
        let horizontalWidth= 400
        let vHDelta = 80
        let leftCount = 0
        let rightCount = 0
        
        function rect(name) {
            str += `<g transform="translate(${horizontalWidth},${verticalHeight})" fill="red"> <rect x="0" y="0" rx="2" ry="2" width="120" height="30" fill="#E2E2E2"/> <text x="30" y="20" fill="red">${name}</text></g>`
        }

        function setEle (d, deep) {
            if(d.length === 1) {
                rect(d[0].name)
                if(d[0].children) {
                    verticalHeight = vHDelta * deep
                    setEle(d[0].children, deep++)
                }
            } else if (d.length === 2) {
                horizontalWidth -= 100
                rect(d[0].name)
                horizontalWidth += 200
                rect(d[1].name)
            } else {

            }
            console.log(d);
        }
        setEle(data, 1)
        
        svg.innerHTML = str

       

        // main(reData, data.startNode.id)
        // console.log(reData);
    </script>
</body>

</html>